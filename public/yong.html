

<!--<link rel="manifest" href="manifest.json">-->
<div id="status"></div>

<video controls  
  style="margin: 0 0 1em 0; max-width: 100%; width: 480px;">
  <!-- Videos are stored remotely with CORS enabled -->
  <!--<source src="./object/gbike.webm" type="video/webm" />-->
  <source src="./object/sample.mp4" type="video/mp4" />
  <p>Your browser does not support the video element.</p>
</video>

<div id="currentSrc"></div>

<h3>Background</h3>

<p>This sample demonstrates basic service worker registration, in conjunction with pre-fetching a video and its poster image.</p>

<p>Visit <code>chrome://inspect/#service-workers</code> and click on the "inspect" link below the registered service worker to view logging statements for the various actions the <code><a href="service-worker.js">service-worker.js</a></code> script is performing. Since most of the action takes place during the service worker's install handler, and that is only executed the very first time you visit this page (unless the service worker script changes), it can be helpful to inspect the logging in a <a href="https://support.google.com/chrome/answer/95464">Chrome Incognito window</a>.</p>

<p>To try out caching, disconnect from your network then reload this page.</p>
asdsd
asdasdasdasdasd
<script src="yongindex.js" ></script>
<script>
    

// window.addEventListener('beforeinstallprompt', function(e) {
//   // beforeinstallprompt Event fired

//   // e.userChoice will return a Promise.
//   e.userChoice.then(function(choiceResult) {

//     console.log(choiceResult.outcome);

//     if(choiceResult.outcome == 'dismissed') {
//       console.log('User cancelled home screen install');
//     }
//     else {
//       console.log('User added to home screen');
//     }
//   });
// });

var isTooSoon = true;
window.addEventListener("beforeinstallprompt", function(e) {
  if (isTooSoon) {
    e.preventDefault(); // Prevents prompt display
    // Prompt later instead:
    setTimeout(function() {
      isTooSoon = false;
      e.prompt(); // Throws if called more than once or default not prevented
    }, 10000);
  }

});

    </script>